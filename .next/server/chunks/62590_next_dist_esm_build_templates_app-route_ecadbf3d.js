module.exports=[624310,e=>{"use strict";var t=e.i(200369),n=e.i(407752),o=e.i(198268),r=e.i(715872),i=e.i(959044),a=e.i(331325),l=e.i(680142),s=e.i(138955),c=e.i(81461),u=e.i(783896),p=e.i(450494),d=e.i(883641),h=e.i(855619),m=e.i(572366),g=e.i(438627),f=e.i(193695);e.i(314348);var y=e.i(520607),R=e.i(636466);let w={Red:"Foundation/Security/Survival",Orange:"Creativity/Emotion/Flow",Yellow:"Power/Intelligence/Will",Green:"Love/Healing/Growth",Blue:"Truth/Communication/Expression",Indigo:"Intuition/Vision/Insight",Violet:"Consciousness/Transcendence/Unity"},v={Red:700,Orange:620,Yellow:580,Green:530,Blue:470,Indigo:450,Violet:400},C={Red:428e12,Orange:484e12,Yellow:517e12,Green:566e12,Blue:638e12,Indigo:667e12,Violet:75e13},x=[];async function E(e){try{let{action:n,topic:o,category:r,content:i,emotionalResonance:a}=await e.json();if("add_memory"===n){var t;let e=function(e,t,n="neutral"){let o=function(e,t){var n,o,r,i,a;let l,s,c,u=e.toLowerCase().split(/\s+/),p=[],d=[],h=[];for(let e of u){let r=(n=e,o=t,/sacred|divine|spirit|soul|god|holy|transcend|mystical/.test(n)?"Violet":/wisdom|insight|vision|see|perceive|understand/.test(n)?"Indigo":/truth|speak|communicate|express|say|tell/.test(n)?"Blue":/love|heal|heart|grow|compassion|care/.test(n)?"Green":/power|will|think|mind|intelligence|know/.test(n)?"Yellow":/create|emotion|feel|flow|passion|desire/.test(n)?"Orange":/ground|foundation|secure|safe|survive|protect/.test(n)?"Red":/quantum|superposition|entangle|coherence/.test(n)?"Violet":/neural|network|ai|intelligence/.test(n)?"Indigo":/data|information|knowledge|learn/.test(n)?"Blue":/blockchain|chain|link|connect/.test(n)?"Green":/compute|process|calculate|algorithm/.test(n)?"Yellow":/energy|power|force|wave/.test(n)?"Orange":/bitcoin|crypto|token|secure/.test(n)?"Red":"spirituality"===o?"Violet":"technology"===o?"Blue":"science"===o?"Yellow":"philosophy"===o?"Indigo":["Red","Orange","Yellow","Green","Blue","Indigo","Violet"][n.length%7]);p.push(r),d.push(v[r]),h.push(C[r])}let m=(r=e,i=t,l=50,(s=r.match(/breakthrough|discovery|revolution|advanced|quantum|transcend|enlighten/gi))&&(l+=10*s.length),"technology"===i&&(l+=15),"spirituality"===i&&(l+=20),"science"===i&&(l+=10),Math.min(l+=Math.min(r.length/100,20),100)),g=(a=e,c=.5,/[.!?]/.test(a)&&(c+=.2),a.split(/[.!?]/).filter(e=>e.trim().length>0).length>1&&(c+=.1),a.length>50&&a.length<500&&(c+=.2),Math.min(c,1));return{wavelengths:d,colors:p,frequencies:h,meaning:function(e){let t={};for(let n of e)t[n]=(t[n]||0)+1;return Object.entries(t).sort(([,e],[,t])=>t-e).slice(0,3).map(([e])=>w[e]).join(" â†’ ")}(p),energyLevel:m,coherence:g}}(e,t);return{id:`light_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,originalText:e,photonicSequence:o,emotionalResonance:n,category:t,timestamp:Date.now()}}(i,r||"general",a||"neutral"),n=(t=e.photonicSequence,"0x"+parseInt(t.colors.map(e=>"Red"===e?"000":"Orange"===e?"001":"Yellow"===e?"010":"Green"===e?"011":"Blue"===e?"100":"Indigo"===e?"101":"Violet"===e?"110":"111").join(""),2).toString(16).padStart(64,"0")),l={id:e.id,topic:o||"Untitled Memory",category:r||"general",lightMemory:e,photonicCode:n,children:[],connections:function(e,t){let n=new Set(e.toLowerCase().split(/\s+/)),o=[];for(let e of x)if(e.category===t){let t=new Set(e.lightMemory.originalText.toLowerCase().split(/\s+/));[...n].filter(e=>t.has(e)).length>=3&&o.push(e.id)}return o.slice(0,5)}(i,r),importance:e.photonicSequence.energyLevel,timestamp:Date.now()};return x.push(l),console.log("ğŸ§  Memory added to mind map:",{id:l.id,topic:l.topic,photonicCode:n.substring(0,20)+"...",connections:l.connections.length}),R.NextResponse.json({success:!0,memory:{id:l.id,topic:l.topic,photonicCode:l.photonicCode,lightVisualization:function(e){let{colors:t,energyLevel:n,coherence:o}=e.photonicSequence,r={Red:"ğŸ”´",Orange:"ğŸŸ ",Yellow:"ğŸŸ¡",Green:"ğŸŸ¢",Blue:"ğŸ”µ",Indigo:"ğŸŸ£",Violet:"ğŸŸª"},i=t.slice(0,20).map(e=>r[e]).join("");return`
ğŸŒˆ Light Memory: ${e.id}
${i}
âš¡ Energy: ${"â–ˆ".repeat(Math.floor(n/10))}${"â–‘".repeat(10-Math.floor(n/10))} ${n}%
ğŸ”— Coherence: ${"â–ˆ".repeat(Math.floor(10*o))}${"â–‘".repeat(10-Math.floor(10*o))} ${(100*o).toFixed(0)}%
ğŸ’« Meaning: ${e.photonicSequence.meaning}
ğŸ­ Resonance: ${e.emotionalResonance}
ğŸ“ Category: ${e.category}
`}(e),connections:l.connections.length,importance:l.importance},totalMemories:x.length})}if("get_mindmap"===n){let e=S();return R.NextResponse.json(e)}if("find_connections"===n){let e,t=(e=o.toLowerCase(),x.filter(t=>t.topic.toLowerCase().includes(e)||t.lightMemory.originalText.toLowerCase().includes(e)).map(e=>({id:e.id,topic:e.topic,category:e.category,photonicColors:e.lightMemory.photonicSequence.colors.slice(0,10),importance:e.importance,connections:e.connections})));return R.NextResponse.json({query:o,connections:t,count:t.length})}return R.NextResponse.json({error:"Invalid action. Use: add_memory, get_mindmap, find_connections"},{status:400})}catch(e){return console.error("Mind map error:",e),R.NextResponse.json({error:"Mind map operation failed"},{status:500})}}async function M(e){try{let{searchParams:t}=new URL(e.url),n=t.get("format")||"tree";if("tree"===n){let e=S();return R.NextResponse.json(e)}if("graph"===n){let e=x.map(e=>({id:e.id,label:e.topic,category:e.category,importance:e.importance,photonicCode:e.photonicCode.substring(0,10)+"..."})),t=x.flatMap(e=>e.connections.map(t=>({source:e.id,target:t,type:"relates_to"})));return R.NextResponse.json({nodes:e,edges:t,totalNodes:e.length,totalEdges:t.length})}if("light"===n){let e=x.map(e=>({id:e.id,topic:e.topic,photonicCode:e.photonicCode,colors:e.lightMemory.photonicSequence.colors,wavelengths:e.lightMemory.photonicSequence.wavelengths,frequencies:e.lightMemory.photonicSequence.frequencies,meaning:e.lightMemory.photonicSequence.meaning}));return R.NextResponse.json({format:"photonic",memories:e,total:e.length})}return R.NextResponse.json(x)}catch(e){return console.error("Mind map retrieval error:",e),R.NextResponse.json({error:"Failed to retrieve mind map"},{status:500})}}function S(){let e=Array.from(new Set(x.map(e=>e.category))),t=function(e){let t="ğŸ§  LUXBIN AI Memory Mind Map\n";t+="â•".repeat(50)+"\n\n";for(let n=0;n<e.length;n++){let o=e[n],r=n===e.length-1,i=r?"â””â”€â”€":"â”œâ”€â”€";t+=`${i} ğŸ“ ${o.category.toUpperCase()} (${o.count} memories)
`;for(let e=0;e<o.memories.length;e++){let n=o.memories[e],i=r?"    ":"â”‚   ",a=e===o.memories.length-1?"â””â”€â”€":"â”œâ”€â”€";t+=`${i}${a} ğŸ’¡ ${n.topic}
${i}    ğŸŒˆ ${n.photonicPreview}
${i}    âš¡ Importance: ${n.importance}% | ğŸ”— Links: ${n.connections}
`}t+="\n"}return t}(e.map(e=>{let t=x.filter(t=>t.category===e);return{category:e,count:t.length,memories:t.map(e=>({id:e.id,topic:e.topic,importance:e.importance,connections:e.connections.length,photonicPreview:e.lightMemory.photonicSequence.colors.slice(0,5).join(" â†’ ")}))}}));return{root:{id:"root",topic:"LUXBIN AI Memory",category:"root",lightMemory:null,photonicCode:"0x0",children:[],connections:[],importance:100,timestamp:Date.now()},totalNodes:x.length,categories:e,visualTree:t}}e.s(["GET",()=>M,"POST",()=>E],300401);var N=e.i(300401);let I=new t.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/memory/mindmap/route",pathname:"/api/memory/mindmap",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/Desktop/luxbin_chain/luxbin-app/app/api/memory/mindmap/route.ts",nextConfigOutput:"",userland:N}),{workAsyncStorage:$,workUnitAsyncStorage:A,serverHooks:b}=I;function O(){return(0,o.patchFetch)({workAsyncStorage:$,workUnitAsyncStorage:A})}async function T(e,t,o){I.isDev&&(0,r.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let R="/api/memory/mindmap/route";R=R.replace(/\/index$/,"")||"/";let w=await I.prepare(e,t,{srcPage:R,multiZoneDraftMode:!1});if(!w)return t.statusCode=400,t.end("Bad Request"),null==o.waitUntil||o.waitUntil.call(o,Promise.resolve()),null;let{buildId:v,params:C,nextConfig:x,parsedUrl:E,isDraftMode:M,prerenderManifest:S,routerServerContext:N,isOnDemandRevalidate:$,revalidateOnlyGenerated:A,resolvedPathname:b,clientReferenceManifest:O,serverActionsManifest:T}=w,_=(0,l.normalizeAppPath)(R),q=!!(S.dynamicRoutes[_]||S.routes[b]),P=async()=>((null==N?void 0:N.render404)?await N.render404(e,t,E,!1):t.end("This page could not be found"),null);if(q&&!M){let e=!!S.routes[b],t=S.dynamicRoutes[_];if(t&&!1===t.fallback&&!e){if(x.experimental.adapterPath)return await P();throw new f.NoFallbackError}}let k=null;!q||I.isDev||M||(k="/index"===(k=b)?"/":k);let j=!0===I.isDev||!q,U=q&&!j;T&&O&&(0,a.setManifestsSingleton)({page:R,clientReferenceManifest:O,serverActionsManifest:T});let D=e.method||"GET",H=(0,i.getTracer)(),L=H.getActiveScopeSpan(),B={params:C,prerenderManifest:S,renderOpts:{experimental:{authInterrupts:!!x.experimental.authInterrupts},cacheComponents:!!x.cacheComponents,supportsDynamicResponse:j,incrementalCache:(0,r.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:x.cacheLife,waitUntil:o.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,n,o,r)=>I.onRequestError(e,t,o,r,N)},sharedContext:{buildId:v}},V=new s.NodeNextRequest(e),G=new s.NodeNextResponse(t),F=c.NextRequestAdapter.fromNodeNextRequest(V,(0,c.signalFromNodeResponse)(t));try{let a=async e=>I.handle(F,B).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let n=H.getRootSpanAttributes();if(!n)return;if(n.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${n.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let o=n.get("next.route");if(o){let t=`${D} ${o}`;e.setAttributes({"next.route":o,"http.route":o,"next.span_name":t}),e.updateName(t)}else e.updateName(`${D} ${R}`)}),l=!!(0,r.getRequestMeta)(e,"minimalMode"),s=async r=>{var i,s;let c=async({previousCacheEntry:n})=>{try{if(!l&&$&&A&&!n)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await a(r);e.fetchMetrics=B.renderOpts.fetchMetrics;let s=B.renderOpts.pendingWaitUntil;s&&o.waitUntil&&(o.waitUntil(s),s=void 0);let c=B.renderOpts.collectedTags;if(!q)return await (0,d.sendResponse)(V,G,i,B.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(i.headers);c&&(t[g.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let n=void 0!==B.renderOpts.collectedRevalidate&&!(B.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&B.renderOpts.collectedRevalidate,o=void 0===B.renderOpts.collectedExpire||B.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:B.renderOpts.collectedExpire;return{value:{kind:y.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:n,expire:o}}}}catch(t){throw(null==n?void 0:n.isStale)&&await I.onRequestError(e,t,{routerKind:"App Router",routePath:R,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:$})},!1,N),t}},u=await I.handleResponse({req:e,nextConfig:x,cacheKey:k,routeKind:n.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:S,isRoutePPREnabled:!1,isOnDemandRevalidate:$,revalidateOnlyGenerated:A,responseGenerator:c,waitUntil:o.waitUntil,isMinimalMode:l});if(!q)return null;if((null==u||null==(i=u.value)?void 0:i.kind)!==y.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==u||null==(s=u.value)?void 0:s.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});l||t.setHeader("x-nextjs-cache",$?"REVALIDATED":u.isMiss?"MISS":u.isStale?"STALE":"HIT"),M&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let f=(0,h.fromNodeOutgoingHttpHeaders)(u.value.headers);return l&&q||f.delete(g.NEXT_CACHE_TAGS_HEADER),!u.cacheControl||t.getHeader("Cache-Control")||f.get("Cache-Control")||f.set("Cache-Control",(0,m.getCacheControlHeader)(u.cacheControl)),await (0,d.sendResponse)(V,G,new Response(u.value.body,{headers:f,status:u.value.status||200})),null};L?await s(L):await H.withPropagatedContext(e.headers,()=>H.trace(u.BaseServerSpan.handleRequest,{spanName:`${D} ${R}`,kind:i.SpanKind.SERVER,attributes:{"http.method":D,"http.target":e.url}},s))}catch(t){if(t instanceof f.NoFallbackError||await I.onRequestError(e,t,{routerKind:"App Router",routePath:_,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:U,isOnDemandRevalidate:$})},!1,N),q)throw t;return await (0,d.sendResponse)(V,G,new Response(null,{status:500})),null}}e.s(["handler",()=>T,"patchFetch",()=>O,"routeModule",()=>I,"serverHooks",()=>b,"workAsyncStorage",()=>$,"workUnitAsyncStorage",()=>A],624310)}];

//# sourceMappingURL=62590_next_dist_esm_build_templates_app-route_ecadbf3d.js.map