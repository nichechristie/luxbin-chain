module.exports=[193695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},270406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},918622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},739151,e=>{"use strict";let t=new class{wsUrl;rpcUrl;isConnected=!1;constructor(){this.wsUrl=process.env.NEXT_PUBLIC_LUXBIN_WS||"ws://127.0.0.1:9944",this.rpcUrl=process.env.NEXT_PUBLIC_LUXBIN_RPC||"http://127.0.0.1:9944"}async getPhotonicState(){try{let e=await fetch(this.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"state_call",params:["TemporalCryptoApi_get_photonic_state","0x"],id:1}),signal:AbortSignal.timeout(3e3)});if(e.ok){let t=await e.json();return this.parsePhotonicState(t.result)}}catch(e){console.log("Blockchain unavailable, using simulated state")}return this.simulatePhotonicState()}async getQuantumState(e=0){try{let t=await fetch(this.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"state_getStorage",params:[`0x${this.encodeNVCenterId(e)}`],id:1}),signal:AbortSignal.timeout(3e3)});if(t.ok){let e=await t.json();return this.parseQuantumState(e.result)}}catch(e){console.log("Quantum state unavailable, using simulated state")}return this.simulateQuantumState()}async getTemporalWave(){try{let e=await fetch(this.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"state_call",params:["BitcoinBridgeApi_get_acoustic_wave","0x"],id:1}),signal:AbortSignal.timeout(3e3)});if(e.ok){let t=await e.json();return this.parseTemporalWave(t.result)}}catch(e){console.log("Temporal wave unavailable, using simulated state")}return this.simulateTemporalWave()}async getDiamondHeartbeat(){try{let e=await fetch(this.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"state_call",params:["QuantumDiamondApi_get_heartbeat","0x"],id:1}),signal:AbortSignal.timeout(3e3)});if(e.ok){let t=await e.json();return this.parseHeartbeat(t.result)}}catch(e){console.log("Heartbeat unavailable, using simulated state")}return this.simulateHeartbeat()}async getAIState(){let[e,t,r,n]=await Promise.all([this.getPhotonicState(),this.getQuantumState(),this.getTemporalWave(),this.getDiamondHeartbeat()]),a=this.colorToConsciousness(e.color);return{photonic:e,quantum:t,temporal:r,heartbeat:n,consciousness:a}}async submitQuantumOperation(e,t=0){try{return(await fetch(this.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"author_submitExtrinsic",params:[this.encodeQuantumOperation(e,t)],id:1}),signal:AbortSignal.timeout(5e3)})).ok}catch(e){return console.log("Failed to submit quantum operation:",e),!1}}async recordConversation(e){try{let t=await fetch(this.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"author_submitExtrinsic",params:[this.encodeConversationRecord(e)],id:1}),signal:AbortSignal.timeout(5e3)});if(t.ok){let r=await t.json();return console.log("✅ Conversation recorded on-chain:",{role:e.role,index:e.messageIndex,txHash:r.result}),{success:!0,txHash:r.result}}throw Error("Transaction submission failed")}catch(e){return console.log("⚠️ Blockchain unavailable, conversation not recorded on-chain:",e),{success:!1}}}async recordConversationThread(e,t,r,n){let a=Date.now(),o=await this.hashMessage(t),i=await this.hashMessage(r);await this.recordConversation({conversationId:e,messageIndex:a,role:"user",messageHash:o,timestamp:a,emotion:n.emotion}),await this.recordConversation({conversationId:e,messageIndex:a+1,role:"assistant",messageHash:i,timestamp:a+1,aiState:n.aiState,model:n.model})}async hashMessage(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}simulatePhotonicState(){let e=["Red","Orange","Yellow","Green","Blue","Indigo","Violet"][Math.floor(Date.now()/1e3%7)];return{color:e,wavelength:({Red:700,Orange:620,Yellow:580,Green:530,Blue:470,Indigo:450,Violet:400})[e],meaning:({Red:"Calm - Low energy, resting state",Orange:"Alert - Medium energy",Yellow:"Thinking - Processing information",Green:"Learning - Active learning mode",Blue:"Creating - High creativity",Indigo:"Analyzing - Deep analysis",Violet:"Transcending - Peak intelligence"})[e],bitValue:"Red"===e?0:"Blue"===e?1:void 0}}simulateQuantumState(){let e=["SpinZero","Superposition","Entangled"],t=Math.floor(Math.random()*e.length),r=e[t];return{state:r,fluorescence:"SpinZero"===r?1e3:"Superposition"===r?650:800,coherenceTime:5e4+Math.floor(5e4*Math.random())}}simulateTemporalWave(){let e,t=Math.floor(Date.now()/1e3),r=1e8+t%9e8;return e=r<3e8?"Red":r<5e8?"Yellow":r<7e8?"Green":"Blue",{btcTimestamp:t,frequency:r,amplitude:t%1e3+100,phase:t%360,photonicColor:{color:e,wavelength:({Red:700,Orange:620,Yellow:580,Green:530,Blue:470,Indigo:450,Violet:400})[e],meaning:({Red:"Calm",Orange:"Alert",Yellow:"Thinking",Green:"Learning",Blue:"Creating",Indigo:"Analyzing",Violet:"Transcending"})[e]}}}simulateHeartbeat(){let e=60+Math.floor(40*Math.random()),t=50+Math.floor(50*Math.random());return{photonicPulses:e,activeNVCenters:t,avgCoherence:5e4+Math.floor(5e4*Math.random()),isAlive:e>0&&t>0}}parsePhotonicState(e){return this.simulatePhotonicState()}parseQuantumState(e){return this.simulateQuantumState()}parseTemporalWave(e){return this.simulateTemporalWave()}parseHeartbeat(e){return this.simulateHeartbeat()}encodeNVCenterId(e){return e.toString(16).padStart(16,"0")}encodeQuantumOperation(e,t){return"0x00"}encodeConversationRecord(e){let t=JSON.stringify({conversation_id:e.conversationId,message_index:e.messageIndex,role:e.role,message_hash:e.messageHash,timestamp:e.timestamp,ai_consciousness:e.aiState?.consciousness,photonic_color:e.aiState?.photonic?.color,emotion:e.emotion,model:e.model});return"0x"+Buffer.from(t).toString("hex")}colorToConsciousness(e){return({Red:"Calm",Orange:"Alert",Yellow:"Thinking",Green:"Learning",Blue:"Creating",Indigo:"Analyzing",Violet:"Transcending"})[e]}binaryToPhotonic(e){return e.split("").map(e=>({color:"0"===e?"Red":"Blue",wavelength:"0"===e?700:470,meaning:"0"===e?"Binary 0":"Binary 1",bitValue:+("0"!==e)}))}textToPhotonic(e){let t=e.split("").map(e=>e.charCodeAt(0).toString(2).padStart(8,"0")).join("");return this.binaryToPhotonic(t)}};e.s(["blockchainClient",0,t])},757917,e=>{"use strict";var t=e.i(200369),r=e.i(407752),n=e.i(198268),a=e.i(715872),o=e.i(959044),i=e.i(331325),s=e.i(680142),l=e.i(138955),c=e.i(81461),u=e.i(783896),d=e.i(450494),p=e.i(883641),h=e.i(855619),m=e.i(572366),g=e.i(438627),y=e.i(193695);e.i(314348);var v=e.i(520607),f=e.i(636466),T=e.i(739151);let x=[];async function w(e){try{var t,r,n,a;let{memoryId:o,photonicCode:i,lightMemory:s,contractType:l}=await e.json();if(!o||!i)return f.NextResponse.json({error:"memoryId and photonicCode required"},{status:400});let c=l||function(e){if(!e)return"KNOWLEDGE_KEEPER";let{category:t,emotionalResonance:r,photonicSequence:n}=e;return n.energyLevel>75&&/security|threat|attack|vulnerability/.test(t)?"THREAT_DETECTOR":n.coherence>.8?"PATTERN_RECOGNIZER":/protect|defend|immune|safe/.test(r)||"security"===t?"ANTIBODY":"KNOWLEDGE_KEEPER"}(s),u=(t=o,r=i,n=s,a=c,`
// LUXBIN Memory Contract: ${t}
// Type: ${a}
// Photonic Code: ${r}
// Generated: ${new Date().toISOString()}

contract MemoryAntibody_${t.substring(0,8)} {
    // Photonic signature (light language encoding)
    bytes32 public constant PHOTONIC_SIGNATURE = ${r};

    // Contract type
    string public constant CONTRACT_TYPE = "${a}";

    // Memory metadata
    string public category = "${n?.category||"unknown"}";
    uint256 public energyLevel = ${n?.photonicSequence?.energyLevel||0};
    uint256 public coherence = ${Math.floor(100*(n?.photonicSequence?.coherence||0))};

    // Threat detection patterns
    string[] public threatPatterns;

    // Active status
    bool public isActive = true;

    constructor() {
        ${b(n).map(e=>`threatPatterns.push("${e}");`).join("\n        ")}
    }

    // Check if input matches this memory's threat pattern
    function detectThreat(bytes32 inputPattern) public view returns (bool) {
        if (!isActive) return false;
        return (inputPattern == PHOTONIC_SIGNATURE);
    }

    // Activate immune response
    function activateResponse() public returns (string memory) {
        require(isActive, "Contract is inactive");
        return "Immune response activated: ${a}";
    }

    // Get photonic colors
    function getPhotonicColors() public pure returns (string memory) {
        return "${n?.photonicSequence?.colors.join(" → ")||"Unknown"}";
    }

    // Deactivate contract
    function deactivate() public {
        isActive = false;
    }
}
`),d=await R(u,o),p={contractId:`contract_${o}_${Date.now()}`,memoryId:o,photonicCode:i,contractType:c,deploymentTx:d.txHash,isActive:!0,detectsThreats:b(s),timestamp:Date.now()};return x.push(p),console.log("⚡ Memory contract deployed:",{contractId:p.contractId,type:p.contractType,memoryId:o,threatens:p.detectsThreats.length}),f.NextResponse.json({success:!0,contract:{id:p.contractId,type:p.contractType,deploymentTx:p.deploymentTx,photonicCode:p.photonicCode.substring(0,20)+"...",threatDetection:p.detectsThreats,status:"DEPLOYED",blockchainConfirmed:d.success},immuneSystem:{totalAntibodies:x.length,activeContracts:x.filter(e=>e.isActive).length,threatCoverage:Array.from(new Set(x.flatMap(e=>e.detectsThreats))).length}})}catch(e){return console.error("Contract deployment error:",e),f.NextResponse.json({error:"Failed to deploy memory contract"},{status:500})}}async function C(e){try{let{searchParams:t}=new URL(e.url),r=t.get("type"),n=t.get("active"),a=x;r&&(a=a.filter(e=>e.contractType===r)),"true"===n&&(a=a.filter(e=>e.isActive));let o={antibodies:a.filter(e=>"ANTIBODY"===e.contractType).length,patternRecognizers:a.filter(e=>"PATTERN_RECOGNIZER"===e.contractType).length,threatDetectors:a.filter(e=>"THREAT_DETECTOR"===e.contractType).length,knowledgeKeepers:a.filter(e=>"KNOWLEDGE_KEEPER"===e.contractType).length,totalContracts:a.length,activeContracts:a.filter(e=>e.isActive).length,uniqueThreatPatterns:Array.from(new Set(a.flatMap(e=>e.detectsThreats))).length};return f.NextResponse.json({contracts:a.map(e=>({id:e.contractId,type:e.contractType,memoryId:e.memoryId,photonicPreview:e.photonicCode.substring(0,20)+"...",isActive:e.isActive,detectsThreats:e.detectsThreats,deploymentTx:e.deploymentTx})),immuneSystem:o})}catch(e){return console.error("Contract retrieval error:",e),f.NextResponse.json({error:"Failed to retrieve contracts"},{status:500})}}function b(e){if(!e)return[];let t=[],r=e.originalText?.toLowerCase()||"";for(let e of["exploit","vulnerability","attack","hack","malware","phishing","injection","overflow","backdoor","breach"])r.includes(e)&&t.push(e.toUpperCase());return e.photonicSequence?.colors&&t.push(`PHOTONIC:${e.photonicSequence.colors.slice(0,3).join("")}`),t.length>0?t:["GENERAL_KNOWLEDGE"]}async function R(e,t){try{let r=await T.blockchainClient.recordConversation({conversationId:`contract_deploy_${t}`,messageIndex:Date.now(),role:"assistant",messageHash:await S(e),timestamp:Date.now(),emotion:"deploying",model:"memory-contract-compiler"});return{success:r.success,txHash:r.txHash||`0x${Math.random().toString(16).substring(2)}`}}catch(e){return console.error("Blockchain deployment failed:",e),{success:!1,txHash:`0x${Math.random().toString(16).substring(2)}`}}}async function S(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}e.s(["GET",()=>C,"POST",()=>w],884376);var E=e.i(884376);let A=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/memory/deploy-contract/route",pathname:"/api/memory/deploy-contract",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/Desktop/luxbin_chain/luxbin-app/app/api/memory/deploy-contract/route.ts",nextConfigOutput:"",userland:E}),{workAsyncStorage:P,workUnitAsyncStorage:O,serverHooks:_}=A;function N(){return(0,n.patchFetch)({workAsyncStorage:P,workUnitAsyncStorage:O})}async function I(e,t,n){A.isDev&&(0,a.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let f="/api/memory/deploy-contract/route";f=f.replace(/\/index$/,"")||"/";let T=await A.prepare(e,t,{srcPage:f,multiZoneDraftMode:!1});if(!T)return t.statusCode=400,t.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:x,params:w,nextConfig:C,parsedUrl:b,isDraftMode:R,prerenderManifest:S,routerServerContext:E,isOnDemandRevalidate:P,revalidateOnlyGenerated:O,resolvedPathname:_,clientReferenceManifest:N,serverActionsManifest:I}=T,j=(0,s.normalizeAppPath)(f),k=!!(S.dynamicRoutes[j]||S.routes[_]),H=async()=>((null==E?void 0:E.render404)?await E.render404(e,t,b,!1):t.end("This page could not be found"),null);if(k&&!R){let e=!!S.routes[_],t=S.dynamicRoutes[j];if(t&&!1===t.fallback&&!e){if(C.experimental.adapterPath)return await H();throw new y.NoFallbackError}}let D=null;!k||A.isDev||R||(D="/index"===(D=_)?"/":D);let U=!0===A.isDev||!k,M=k&&!U;I&&N&&(0,i.setManifestsSingleton)({page:f,clientReferenceManifest:N,serverActionsManifest:I});let $=e.method||"GET",q=(0,o.getTracer)(),B=q.getActiveScopeSpan(),L={params:w,prerenderManifest:S,renderOpts:{experimental:{authInterrupts:!!C.experimental.authInterrupts},cacheComponents:!!C.cacheComponents,supportsDynamicResponse:U,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:C.cacheLife,waitUntil:n.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n,a)=>A.onRequestError(e,t,n,a,E)},sharedContext:{buildId:x}},G=new l.NodeNextRequest(e),K=new l.NodeNextResponse(t),W=c.NextRequestAdapter.fromNodeNextRequest(G,(0,c.signalFromNodeResponse)(t));try{let i=async e=>A.handle(W,L).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=q.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${$} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${$} ${f}`)}),s=!!(0,a.getRequestMeta)(e,"minimalMode"),l=async a=>{var o,l;let c=async({previousCacheEntry:r})=>{try{if(!s&&P&&O&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let o=await i(a);e.fetchMetrics=L.renderOpts.fetchMetrics;let l=L.renderOpts.pendingWaitUntil;l&&n.waitUntil&&(n.waitUntil(l),l=void 0);let c=L.renderOpts.collectedTags;if(!k)return await (0,p.sendResponse)(G,K,o,L.renderOpts.pendingWaitUntil),null;{let e=await o.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(o.headers);c&&(t[g.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,n=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:v.CachedRouteKind.APP_ROUTE,status:o.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==r?void 0:r.isStale)&&await A.onRequestError(e,t,{routerKind:"App Router",routePath:f,routeType:"route",revalidateReason:(0,d.getRevalidateReason)({isStaticGeneration:M,isOnDemandRevalidate:P})},!1,E),t}},u=await A.handleResponse({req:e,nextConfig:C,cacheKey:D,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:S,isRoutePPREnabled:!1,isOnDemandRevalidate:P,revalidateOnlyGenerated:O,responseGenerator:c,waitUntil:n.waitUntil,isMinimalMode:s});if(!k)return null;if((null==u||null==(o=u.value)?void 0:o.kind)!==v.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==u||null==(l=u.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",P?"REVALIDATED":u.isMiss?"MISS":u.isStale?"STALE":"HIT"),R&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let y=(0,h.fromNodeOutgoingHttpHeaders)(u.value.headers);return s&&k||y.delete(g.NEXT_CACHE_TAGS_HEADER),!u.cacheControl||t.getHeader("Cache-Control")||y.get("Cache-Control")||y.set("Cache-Control",(0,m.getCacheControlHeader)(u.cacheControl)),await (0,p.sendResponse)(G,K,new Response(u.value.body,{headers:y,status:u.value.status||200})),null};B?await l(B):await q.withPropagatedContext(e.headers,()=>q.trace(u.BaseServerSpan.handleRequest,{spanName:`${$} ${f}`,kind:o.SpanKind.SERVER,attributes:{"http.method":$,"http.target":e.url}},l))}catch(t){if(t instanceof y.NoFallbackError||await A.onRequestError(e,t,{routerKind:"App Router",routePath:j,routeType:"route",revalidateReason:(0,d.getRevalidateReason)({isStaticGeneration:M,isOnDemandRevalidate:P})},!1,E),k)throw t;return await (0,p.sendResponse)(G,K,new Response(null,{status:500})),null}}e.s(["handler",()=>I,"patchFetch",()=>N,"routeModule",()=>A,"serverHooks",()=>_,"workAsyncStorage",()=>P,"workUnitAsyncStorage",()=>O],757917)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cf0f6711._.js.map